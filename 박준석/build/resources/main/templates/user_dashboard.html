<html>
    <body>
        <h1> 사용자 대시보드 <a href="/admin">(관리자 대시보드로 이동)</a></h1>
        <span> REST 요청을 보내 파일 목록을 불러오고, 다음 li에 다운로드 링크와 함께 삽입하십시오. </span>
        <span>REST로 데이터 목록을 불러오는 예제는 <a href="https://github.com/java-lesson-cbnu/android-lesson-01">1번 예제 레포지토리</a>를 참고하세요. </span>
        <ul id="dataList">

        </ul>
    </body>
    <script>
        // JavaScript 코드
      const dataList = document.getElementById("dataList");

      // 가상의 REST 요청을 시뮬레이션합니다.
      const simulatedRESTRequest = () => {
        return new Promise((resolve) => {
          setTimeout(() => {
            resolve(["파일1.txt", "파일2.txt", "파일3.txt"]);
          }, 1000);
        });
      };

      // REST 요청을 보내고 파일 목록을 받아와서 목록에 추가합니다.
      const fetchDataAndRenderList = async () => {
        try {
          const response = await simulatedRESTRequest();
          response.forEach((filename) => {
            const listItem = document.createElement("li");
            const downloadLink = document.createElement("a");
            downloadLink.href = `/download/${filename}`;
            downloadLink.textContent = `다운로드 (${filename})`;
            listItem.appendChild(downloadLink);
            dataList.appendChild(listItem);
          });
        } catch (error) {
          console.error("데이터를 불러오는 중 에러 발생:", error);
        }
      };

      // 데이터를 불러오고 목록에 추가합니다.
      fetchDataAndRenderList();
    </script>
</html>